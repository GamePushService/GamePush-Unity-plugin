fragment translations on Translations { en fr it de es zh pt ko ja ru tr ar id hi }

fragment AchievementFields on Achievement {
  id
  icon(w: 256, h: 256, crop: false)
  y8Id
  tag
  rare
  progress
  maxProgress
  unlocked
  lockedIcon(w: 256, h: 256, crop: false)
  progressStep
}

fragment AchievementResolvers on Achievement {
  name(lang: $lang)
  description(lang: $lang)
  names {
    ...translations
  }
  iconSmall: icon(w: 48, h: 48, crop: false)
  lockedIconSmall: lockedIcon(w: 48, h: 48, crop: false)
}

fragment PlayerAchievementFields on PlayerAchievement {
  achievementId
  createdAt
  progress
  unlocked
}

mutation UnlockPlayerAchievement($input: UnlockPlayerAchievementInput!, $lang: Lang) {
  result: UnlockPlayerAchievement(input: $input) {
    __typename
    ... on Problem {
      message
    }
    ... on Achievement{
      ...AchievementFields
      ...AchievementResolvers
    }
    ... on PlayerAchievement {
      ...PlayerAchievementFields
      achievement {
        ...AchievementFields
        ...AchievementResolvers
      }
    }
  }
}