(self.webpackChunkgame_score_sdk=self.webpackChunkgame_score_sdk||[]).push([[2372],{5526:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var r=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};class n{constructor(t,e){this.gp=t,this.sdk=e,this.isServerValidation=!0,this.isOneTimeSubscription=!1,this.isNeedAuthorizeBeforePurchase=!1}get isSupportsPayments(){var t;return!!(null===(t=this.gp.platform.config.paymentsConfig.configs.web)||void 0===t?void 0:t.activeService)}get isSupportsSubscriptions(){var t;return!!(null===(t=this.gp.platform.config.paymentsConfig.configs.web)||void 0===t?void 0:t.activeService)}mapProducts(t,e){return r(this,void 0,void 0,(function*(){return e}))}consumeAllExpired(t,e,i){return r(this,void 0,void 0,(function*(){}))}fetchPurchases(){return r(this,void 0,void 0,(function*(){return{payload:{},purchases:[]}}))}purchase(t){return r(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.purchase(t)}))}consume(t){return r(this,void 0,void 0,(function*(){return{}}))}subscribe(t,e){return r(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.subscribe(t,e)}))}unsubscribe(t,e){return r(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.unsubscribe(e)}))}}},7607:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>c,rD:()=>d,rS:()=>u});var r=i(180),n=i(6558),s=i(5820),o=i(8276),a=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};class c{constructor(t,e,i){this.gp=t,this.isStickyAvailable=!1,this.stickyBannerConfig={isOverlapping:!1,height:0},this.isFullscreenAvailable=!1,this.isRewardedAvailable=!1,this.isPreloaderAvailable=!1,this.needToLeaveFullscreenBeforeAds=!1,this.canShowFullscreenBeforeGamePlay=!1,this.customAdsConfig=i.customAdsConfig,this.bannerErrors=this.customAdsConfig.configs.web.banners.map((t=>{return{type:t.type,error:t.adServer&&(e=t,e.adServer!==r.Fl.Adfox&&e.adServer!==r.Fl.Rtb)?`Ad Server [${t.adServer}] is not supported for ${t.type}`:null};var e})),this.isPreloaderAvailable=this.isBannerAvailable(r.$.PRELOADER),this.isStickyAvailable=this.isBannerAvailable(r.$.STICKY),this.isFullscreenAvailable=this.isBannerAvailable(r.$.FULLSCREEN),this.isRewardedAvailable=this.isBannerAvailable(r.$.REWARDED),this.adapter=new s.Z(t,e,this.customAdsConfig,i.tag,i.banners)}isBannerAvailable(t){const e=this.customAdsConfig.configs.web.banners.find((e=>e.type===t));return u(e,this.gp.isMobile)}getErrorForBanner(t){const e=this.bannerErrors.find((e=>e.type===t));return e?e.error:null}showPreloader(){return a(this,void 0,void 0,(function*(){yield this.adapter.ready;const t=this.getErrorForBanner(r.$.PRELOADER);return t?(n.kg.error(t),!1):this.adapter.showPreloader().catch((()=>!1))}))}showFullscreen(){return a(this,void 0,void 0,(function*(){yield this.adapter.ready;const t=this.getErrorForBanner(r.$.FULLSCREEN);return t?(n.kg.error(t),!1):this.adapter.showFullscreen().catch((()=>!1))}))}showRewardedVideo(){return a(this,void 0,void 0,(function*(){yield this.adapter.ready;const t=this.getErrorForBanner(r.$.REWARDED);return t?(n.kg.error(t),!1):this.adapter.showRewardedVideo().catch((()=>!1))}))}showSticky(){return a(this,void 0,void 0,(function*(){yield this.adapter.ready;const t=this.getErrorForBanner(r.$.STICKY);return t?(n.kg.error(t),!1):this.adapter.showSticky().catch((()=>!1))}))}refreshSticky(){return a(this,void 0,void 0,(function*(){return this.showSticky()}))}closeSticky(){return a(this,void 0,void 0,(function*(){yield this.adapter.ready,yield this.adapter.closeSticky().catch((()=>!1))}))}}function d(t,e){var i,n;const s=null===(n=null===(i=t.customAdsConfig)||void 0===i?void 0:i.configs)||void 0===n?void 0:n.web;if(!s)return;const a=t.banners;try{const t=s.banners.find((t=>t.type===r.$.STICKY)),i=a.find((t=>t.type===r.$.STICKY));if(t&&i){const r=(0,o.o)(t,e);i.refreshInterval=Math.max(r.refreshInterval,i.refreshInterval),r.position&&"inherit"!==r.position&&(i.position=r.position)}const n=s.banners.find((t=>t.type===r.$.FULLSCREEN)),c=a.find((t=>t.type===r.$.FULLSCREEN));if(n&&c){const t=(0,o.o)(n,e);c.frequency=Math.max(t.frequency,c.frequency)}}catch(t){console.error("failed to apply external ads settings",t)}}const u=(t,e)=>!!t&&(e?t.enabled&&!!t.bannerId:t.enabledDesktop&&!!t.desktopBannerId)},5820:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var r,n,s,o=i(7),a=i(8293),c=i(6558),d=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))},u=function(t,e,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:e.get(t)};class h{constructor(t,e,i,c,h){this.gp=t,this.customAdsConfig=i,this.platformKey=c,this.banners=h,r.add(this),n.set(this,void 0);const v=(0,a._)();this.ready=v.ready,function(t,e,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?n.call(t,i):n?n.value=i:e.set(t,i)}(this,n,e,"f"),u(this,n,"f").isConnected?u(this,r,"m",s).call(this):u(this,n,"f").once(o.ie.EXTERNAL_SDK_READY_RESPONSE,(()=>d(this,void 0,void 0,(function*(){return u(this,r,"m",s).call(this)})))),u(this,n,"f").once(o.ie.EXTERNAL_ADS_SDK_READY,(t=>(t.ready||v.abort(t.message),v.done(t.ready),this.gp.ads.showSticky(),this.ready))),u(this,n,"f").on(o.ie.SHOW_PRELOADER,(t=>d(this,void 0,void 0,(function*(){yield l(this.preloaderTransaction,t)})))),u(this,n,"f").on(o.ie.SHOW_FULLSCREEN,(t=>d(this,void 0,void 0,(function*(){yield l(this.fullscreenTransaction,t)})))),u(this,n,"f").on(o.ie.SHOW_REWARDED,(t=>d(this,void 0,void 0,(function*(){yield l(this.rewardedTransaction,t)})))),u(this,n,"f").on(o.ie.SHOW_STICKY,(t=>d(this,void 0,void 0,(function*(){yield l(this.stickyTransaction,t)})))),u(this,n,"f").on(o.ie.CLOSE_STICKY,(t=>d(this,void 0,void 0,(function*(){yield l(this.stickyTransaction,t)}))))}showPreloader(){return d(this,void 0,void 0,(function*(){return yield this.ready,this.preloaderTransaction=(0,a._)(),c.kg.info("Request to show preloader: ",performance.now()),yield u(this,n,"f").send({type:o.W9.REQUEST_TO_SHOW_PRELOADER,payload:{}}),this.preloaderTransaction.ready}))}showFullscreen(){return d(this,void 0,void 0,(function*(){return yield this.ready,this.fullscreenTransaction=(0,a._)(),yield u(this,n,"f").send({type:o.W9.REQUEST_TO_SHOW_FULLSCREEN,payload:{}}),this.fullscreenTransaction.ready}))}showRewardedVideo(){return d(this,void 0,void 0,(function*(){return yield this.ready,this.rewardedTransaction=(0,a._)(),yield u(this,n,"f").send({type:o.W9.REQUEST_TO_SHOW_REWARDED_VIDEO,payload:{}}),this.rewardedTransaction.ready}))}showSticky(){return d(this,void 0,void 0,(function*(){return yield this.ready,this.stickyTransaction=(0,a._)(),yield u(this,n,"f").send({type:o.W9.REQUEST_TO_SHOW_STICKY,payload:{}}),this.stickyTransaction.ready}))}closeSticky(){return d(this,void 0,void 0,(function*(){yield this.ready,yield u(this,n,"f").send({type:o.W9.REQUEST_TO_CLOSE_STICKY,payload:{}})}))}refreshSticky(){return d(this,void 0,void 0,(function*(){return yield this.ready,this.stickyTransaction=(0,a._)(),yield u(this,n,"f").send({type:o.W9.REQUEST_TO_REFRESH_STICKY,payload:{}}),this.stickyTransaction.ready}))}}function l(t,e){return d(this,void 0,void 0,(function*(){if(!t)return;const{success:i,message:r}=e;i?t.done(i):t.abort(r)}))}n=new WeakMap,r=new WeakSet,s=function(){return d(this,void 0,void 0,(function*(){yield u(this,n,"f").send({type:o.ie.PROVIDE_ADS_CONFIG,payload:{customAdsConfig:this.customAdsConfig,platformKey:this.platformKey,isMobile:this.gp.isMobile,projectId:this.gp.projectId,banners:this.banners}})}))}},6487:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var r=i(4340),n=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};class s{constructor(){this.canAddShortcut=!1,this.canRequestReview=!1,this.isAlreadyReviewed=!1}addShortcut(){return n(this,void 0,void 0,(function*(){return!1}))}requestReview(){return(0,r.D)()}requestGameUrl(){return n(this,void 0,void 0,(function*(){}))}}},1646:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var r=i(2712),n=i(5942),s=i(5572),o=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};class a{constructor(t,e){this.sdk=t,this.config=e,this.isExternalLinksAllowed=!0,this.isSecretCodeAuthAvailable=!0,this.type=n.z.CUSTOM,this.socialNetworks=r.hc,this.isSupportsImageUploading=!1,this.hasAccountLinkingFeature=!1,this.isSupportsRemoteVariables=!1,this.isSupportsCloudSaves=!1}get tag(){return this.config.tag}get hasIntegratedAuth(){var t;return!!(null===(t=this.config.authConfig.configs.web)||void 0===t?void 0:t.activeService)}get _hasAuthModal(){var t;return!!(null===(t=this.config.authConfig.configs.web)||void 0===t?void 0:t.activeService)}get isLogoutAvailable(){var t;return!!(null===(t=this.config.authConfig.configs.web)||void 0===t?void 0:t.activeService)}getSDK(){return this.sdk}getNativeSDK(){}requestPermissions(){return o(this,void 0,void 0,(function*(){return s.VK}))}uploadImage(){return null}getVariables(){return o(this,void 0,void 0,(function*(){return{}}))}}},1035:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});var r=i(8293),n=function(t,e,i,r){return new(i||(i=Promise))((function(n,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function a(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};class s{constructor(t){this.gp=t}makePurchase(t){return n(this,void 0,void 0,(function*(){const e=(0,r._)();try{yield this.gp.loadOverlay(),yield this.gp.overlay.openProductPurchase(t),e.done({product:t})}catch(t){e.abort(t)}return e.ready}))}unsubscribe(t){return n(this,void 0,void 0,(function*(){return yield this.gp._services.paymentsService.cancelSubscription({id:t.productId,payload:t.payload})}))}resumeSubscription(t){return n(this,void 0,void 0,(function*(){return yield this.gp._services.paymentsService.resumeSubscription({id:t.productId,payload:t.payload})}))}}},2808:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});class r{constructor(t){this.sdk=t,this.isSupportsShare=!0,this.isSupportsNativeShare=!1,this.isSupportsNativePosts=!1,this.isSupportsNativeInvite=!1,this.isSupportsNativeCommunityJoin=!1,this.canJoinCommunity=!1,this.isSupportShareParams=!0}get shareParams(){return this.sdk.shareParams}share(t){return Promise.resolve(!1)}post(t){return Promise.resolve(!1)}invite(t){return Promise.resolve(!1)}getCommunityLink(t){return t}joinCommunity(){return Promise.resolve(!1)}addShareParamsToUrl(t,e){return this.sdk.addShareParamsToUrl(t,e)}makeShareUrl(t){return this.sdk.makeShareUrl(t)}getShareParam(t){return this.sdk.getShareParam(t)}}}}]);