(self.webpackChunkgame_score_sdk=self.webpackChunkgame_score_sdk||[]).push([[5860],{280:(t,i,e)=>{"use strict";e.d(i,{Z:()=>r});var n=e(2616),o=e.n(n)()((function(t){return t[1]}));o.push([t.id,".gp-gamedistribution-sticky{display:flex;justify-content:center;position:fixed;left:50%;transform:translateX(-50%);z-index:100;max-height:90px;max-width:728px;overflow:hidden}.gp-gamedistribution-sticky__creative{position:relative;height:90px;width:728px;max-width:100vw}.gp-gamedistribution-sticky_top{top:0}.gp-gamedistribution-sticky_bottom{bottom:0}",""]);const r=o},4340:(t,i,e)=>{"use strict";e.d(i,{D:()=>n});const n=()=>Promise.resolve({success:!1,rating:0,error:""})},9:(t,i,e)=>{"use strict";e.d(i,{Z:()=>r});var n=e(4340),o=function(t,i,e,n){return new(e||(e=Promise))((function(o,r){function s(t){try{u(n.next(t))}catch(t){r(t)}}function a(t){try{u(n.throw(t))}catch(t){r(t)}}function u(t){var i;t.done?o(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(s,a)}u((n=n.apply(t,i||[])).next())}))};class r{constructor(){this.canAddShortcut=!1,this.canRequestReview=!1,this.isAlreadyReviewed=!1}addShortcut(){return o(this,void 0,void 0,(function*(){return!1}))}requestReview(){return(0,n.D)()}requestGameUrl(){return o(this,void 0,void 0,(function*(){}))}}},5572:(t,i,e)=>{"use strict";e.d(i,{VK:()=>n,yl:()=>o});const n={success:!0,payload:{}},o={success:!1,payload:{}}},5351:(t,i,e)=>{"use strict";e.d(i,{Z:()=>u});var n=e(9789),o=e(3379),r=e.n(o),s=e(280);r()(s.Z,{insert:"head",singleton:!1}),s.Z.locals;const a="gp-gamedistribution-sticky";function u(){const t=document.createElement("div");t.id="gs-gamedistribution",document.body.appendChild(t);const i={sticky:null};return window.addEventListener("resize",(()=>(0,n.sO)(i))),{banners:i,createSticky(e){i.sticky||(i.sticky=function(i){const e=document.createElement("div");e.className=`${a} ${a}_${i.position||"bottom"}`;const n=document.createElement("div");n.id="responsive-banner-container",n.className=`${a}__creative`;const o={$wrapper:e,$el:n,options:i};return e.appendChild(n),t.appendChild(e),o}(e))},closeSticky(){i.sticky&&(i.sticky.$wrapper.remove(),i.sticky.$wrapper.innerHTML="",i.sticky=null)}}}},9789:(t,i,e)=>{"use strict";e.d(i,{px:()=>o,bH:()=>s,sO:()=>a,pm:()=>u,Go:()=>d,Bi:()=>c});var n=e(1642);function o(t){return`${t}px`}const r={PX:"px",PERCENT:"%"};function s(t){return r[t]}function a(t){u(t.sticky)}function u(t){t&&(t.$el.style.width=`${function(t){let i=window.innerWidth;if("PX"===t.options.maxWidthDimension&&t.options.maxWidth>0&&window.innerWidth>t.options.maxWidth)i=t.options.maxWidth;else if("PERCENT"===t.options.maxWidthDimension&&t.options.maxWidth>0){const e=t.options.maxWidth/100*window.innerWidth;window.innerWidth>t.options.maxWidth&&(i=e)}const e=t.options.fitCanvas&&h()||i;return Math.round(e)}(t)}px`)}function d(t,i){const e=i?{value:t.options.maxWidth,dimension:t.options.maxWidthDimension}:t.options.desktopMaxWidth&&t.options.desktopMaxWidthDimension?{value:t.options.desktopMaxWidth,dimension:t.options.desktopMaxWidthDimension}:{value:t.options.maxWidth,dimension:t.options.maxWidthDimension},n="PERCENT"===e.dimension?.01*e.value*window.innerWidth:e.value;return Math.min(Math.round(t.options.fitCanvas&&h()||n),window.innerWidth)||window.innerWidth}function c(t,i,e){const n=i?{value:t.options.maxHeight,dimension:t.options.maxHeightDimension}:t.options.desktopMaxHeight&&t.options.desktopMaxHeightDimension?{value:t.options.desktopMaxHeight,dimension:t.options.desktopMaxHeightDimension}:{value:t.options.maxHeight,dimension:t.options.maxHeightDimension},o="PERCENT"===n.dimension?.01*n.value*window.innerHeight:n.value;return Math.min(Math.round(o),window.innerHeight)||e}function h(){var t;return window.innerWidth>=640&&(null===(t=(0,n.Z)())||void 0===t?void 0:t.offsetWidth)||0}},2712:(t,i,e)=>{"use strict";e.d(i,{aD:()=>l,FU:()=>p,hc:()=>v});const n=(t,i)=>({type:t,getLink:i}),o=n("facebook",(t=>`//www.facebook.com/sharer/sharer.php?u=${t.url}`)),r=n("whatsapp",(t=>`//api.whatsapp.com/send?text=${t.text}%20${t.url}`)),s=n("telegram",(t=>`//t.me/share/url?url=${t.url}&text=${t.text}`)),a=n("vkontakte",(t=>`//vk.com/share.php?url=${t.url}&title=${t.text}&image=${t.image}`)),u=n("twitter",(t=>`//twitter.com/share?text=${t.text}&url=${t.url}`)),d=n("odnoklassniki",(t=>`//connect.ok.ru/offer?url=${t.url}&title=${t.text}&imageUrl=${t.image}`)),c=n("viber",(t=>`viber://forward?text=${t.text}%20${t.url}`)),h=n("moymir",(t=>`//connect.mail.ru/share?url=${t.url}&title=${t.text}&image_url=${t.image}`)),l=[r,s,a,d,c,h],p=[o,u,s,r,c],v=[o,u,s,r,c,a,d,h]},6390:(t,i,e)=>{"use strict";function n(){try{return window.top.location.href||location.href}catch(t){return location.href}}e.d(i,{T:()=>n})},1642:(t,i,e)=>{"use strict";function n(){return document.querySelector("canvas")}e.d(i,{Z:()=>n})},8708:(t,i,e)=>{"use strict";e.r(i),e.d(i,{default:()=>S});var n=e(6390),o=e(4917),r=e(6558),s=e(8293),a=e(5351),u=function(t,i,e,n){return new(e||(e=Promise))((function(o,r){function s(t){try{u(n.next(t))}catch(t){r(t)}}function a(t){try{u(n.throw(t))}catch(t){r(t)}}function u(t){var i;t.done?o(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(s,a)}u((n=n.apply(t,i||[])).next())}))};class d{constructor(t){this.config=t,this.app=(0,a.Z)()}get appUrl(){return(0,n.T)()}init(){return u(this,void 0,void 0,(function*(){const t=(0,s._)();return this.ready=t.ready,window.GD_OPTIONS={gameId:this.config.appId,onEvent:i=>{switch(i.name){case"SDK_READY":case"SDK_ERROR":t.done(this)}}},(0,o.Z)({src:"https://html5.api.gamedistribution.com/main.min.js",check:t=>"gdsdk"in t}).then((()=>this.gdsdk=window.gdsdk)).catch((i=>{r.kg.error(i),t.done(this)})),setTimeout((()=>t.done(this)),1e4),t.ready}))}getPlayer(){return u(this,void 0,void 0,(function*(){const t=(0,s._)();return t.done({id:0,name:"",photoSmall:"",photoMedium:"",photoLarge:""}),t.ready}))}showAd(t){const i=(0,s._)();try{this.gdsdk.showAd(t).then((t=>{var e,n;i.done(null===(n=null===(e=null==t?void 0:t.args)||void 0===e?void 0:e.success)||void 0===n||n)})).catch((t=>{r.kg.error("[GameDistribution] failed to show interstitial ads:",t),i.done(!1)}))}catch(t){i.abort(t)}return i.ready}showFullscreen(){return this.showAd("interstitial")}showPreloader(){return this.showAd("interstitial")}showRewardedVideo(){return u(this,void 0,void 0,(function*(){const t=(0,s._)();try{this.gdsdk.showAd("rewarded").then((i=>{var e,n;t.done(null===(n=null===(e=null==i?void 0:i.args)||void 0===e?void 0:e.success)||void 0===n||n)})).catch((i=>{r.kg.error("[GameDistribution] failed to show rewarded video:",i),t.done(!1)}))}catch(i){t.abort(i)}return t.ready}))}showSticky(){const t=(0,s._)();try{this.gdsdk.showAd("display",{containerId:"responsive-banner-container"}).then((()=>t.done(!0))).catch((i=>{r.kg.error("[GameDistribution] failed to show sticky-banner:",i),t.done(!1)}))}catch(i){t.abort(i)}return t.ready}}var c=function(t,i,e,n){return new(e||(e=Promise))((function(o,r){function s(t){try{u(n.next(t))}catch(t){r(t)}}function a(t){try{u(n.throw(t))}catch(t){r(t)}}function u(t){var i;t.done?o(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(s,a)}u((n=n.apply(t,i||[])).next())}))};class h{constructor(t){this.sdk=t,this.isFullscreenAvailable=!0,this.stickyBannerConfig={isOverlapping:!1,height:0},this.isRewardedAvailable=!0,this.isPreloaderAvailable=!0,this.needToLeaveFullscreenBeforeAds=!1,this.canShowFullscreenBeforeGamePlay=!0}get isStickyAvailable(){return window.innerWidth>=728}showPreloader(){return c(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.showPreloader().catch((()=>!1))}))}showFullscreen(){return c(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.showFullscreen().catch((()=>!1))}))}showRewardedVideo(){return c(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.showRewardedVideo().catch((()=>!1))}))}showSticky(t){return c(this,void 0,void 0,(function*(){return!!this.sdk.app.banners.sticky||(this.sdk.app.createSticky(t),this.sdk.showSticky())}))}refreshSticky(t){return c(this,void 0,void 0,(function*(){return this.sdk.app.closeSticky(),this.showSticky(t)}))}closeSticky(){return c(this,void 0,void 0,(function*(){yield this.sdk.ready,this.sdk.app.closeSticky()}))}}var l=function(t,i,e,n){return new(e||(e=Promise))((function(o,r){function s(t){try{u(n.next(t))}catch(t){r(t)}}function a(t){try{u(n.throw(t))}catch(t){r(t)}}function u(t){var i;t.done?o(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(s,a)}u((n=n.apply(t,i||[])).next())}))};class p{constructor(t){this.sdk=t,this.hasCredetials=!1,this.userId="",this.isAuthorizedAtPlatform=!0}getPlayerAuthInfo(){return l(this,void 0,void 0,(function*(){const t=(0,s._)();return t.done({}),t.ready}))}getPlayerContext(){return l(this,void 0,void 0,(function*(){return{platformData:yield this.getPlayerAuthInfo(),key:""}}))}loginPlayer(){return l(this,void 0,void 0,(function*(){return this.sdk.getPlayer()}))}logoutPlayer(){return l(this,void 0,void 0,(function*(){return!1}))}getPlayer(){return l(this,void 0,void 0,(function*(){return this.sdk.getPlayer()}))}publishRecord(t){}isPlatformAvatar(){return!1}setCredentials(t){}}var v=e(2712),m=e(5942),f=e(5572),w=function(t,i,e,n){return new(e||(e=Promise))((function(o,r){function s(t){try{u(n.next(t))}catch(t){r(t)}}function a(t){try{u(n.throw(t))}catch(t){r(t)}}function u(t){var i;t.done?o(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(s,a)}u((n=n.apply(t,i||[])).next())}))};class y{constructor(t){this.sdk=t,this.hasIntegratedAuth=!1,this.isExternalLinksAllowed=!1,this.isSecretCodeAuthAvailable=!1,this._hasAuthModal=!1,this.isLogoutAvailable=!1,this.type=m.z.GAME_DISTRIBUTION,this.socialNetworks=v.FU,this.isSupportsImageUploading=!1,this.hasAccountLinkingFeature=!1,this.isSupportsRemoteVariables=!1,this.isSupportsCloudSaves=!1}getSDK(){return this.sdk}getNativeSDK(){return this.sdk.gdsdk}requestPermissions(){return w(this,void 0,void 0,(function*(){return f.VK}))}uploadImage(){return null}getVariables(){return w(this,void 0,void 0,(function*(){return{}}))}}class k{constructor(t){this.sdk=t,this.isSupportsShare=!1,this.isSupportsNativeShare=!1,this.isSupportsNativePosts=!1,this.isSupportsNativeInvite=!1,this.isSupportsNativeCommunityJoin=!1,this.canJoinCommunity=!1,this.isSupportShareParams=!1}get shareParams(){return{}}share(t){return Promise.resolve(!1)}post(t){return Promise.resolve(!1)}invite(t){return Promise.resolve(!1)}getCommunityLink(t){return t}joinCommunity(){return Promise.resolve(!1)}addShareParamsToUrl(t,i){return t}makeShareUrl(t){return""}getShareParam(t){return""}}var g=function(t,i,e,n){return new(e||(e=Promise))((function(o,r){function s(t){try{u(n.next(t))}catch(t){r(t)}}function a(t){try{u(n.throw(t))}catch(t){r(t)}}function u(t){var i;t.done?o(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(s,a)}u((n=n.apply(t,i||[])).next())}))};class x{constructor(t){this.sdk=t,this.isSupportsSubscriptions=!1,this.isOneTimeSubscription=!0,this.isSupportsPayments=!1,this.isServerValidation=!1,this.isNeedAuthorizeBeforePurchase=!1}mapProducts(t,i){return g(this,void 0,void 0,(function*(){return i}))}consumeAllExpired(t,i,e){return g(this,void 0,void 0,(function*(){}))}fetchPurchases(){return g(this,void 0,void 0,(function*(){return{payload:{},purchases:[]}}))}purchase(t){return g(this,void 0,void 0,(function*(){return{}}))}consume(t){return g(this,void 0,void 0,(function*(){return{}}))}subscribe(t,i){return g(this,void 0,void 0,(function*(){return{}}))}unsubscribe(t,i){return g(this,void 0,void 0,(function*(){return{}}))}}var P=e(9);function S(t){return i=this,e=void 0,o=function*(){const[,i]=yield Promise.all([t.setupStorage([]),t.fetchConfig()]),e=new d({appId:i.platformConfig.appId});yield e.init();const n=new p(e);return{adsAdapter:new h(e),appAdapter:new P.Z,playerAdapter:n,platformAdapter:new y(e),socialsAdapter:new k(e),paymentsAdapter:new x(e),projectConfig:i}},new((n=void 0)||(n=Promise))((function(t,r){function s(t){try{u(o.next(t))}catch(t){r(t)}}function a(t){try{u(o.throw(t))}catch(t){r(t)}}function u(i){var e;i.done?t(i.value):(e=i.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(i,e||[])).next())}));var i,e,n,o}}}]);