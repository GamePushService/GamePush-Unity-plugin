(self.webpackChunkgame_score_sdk=self.webpackChunkgame_score_sdk||[]).push([[911],{3716:t=>{"use strict";var e=Array.prototype.slice;function r(t){var r,i=e.call(arguments,1);switch(i.length){case 1:throw new Error("Not enough forms");case 2:r=t>1?i[1]:i[0];break;default:r=i[n(t)]}return r.replace(/%d/g,t)}function i(t){return t>1e6?2:(t>1e3&&t<1e6&&/000$/.test(t)&&(t/=1e3),t%10==1&&t%100!=11||/1000$/.test(t.toString())?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)}function n(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}t.exports=r,t.exports.noun=r,t.exports.verb=function(t){var r=e.call(arguments,1),n=r[i(t)];return n.replace(/%d/g,t)}},4340:(t,e,r)=>{"use strict";r.d(e,{D:()=>i});const i=()=>Promise.resolve({success:!1,rating:0,error:""})},5572:(t,e,r)=>{"use strict";r.d(e,{VK:()=>i,yl:()=>n});const i={success:!0,payload:{}},n={success:!1,payload:{}}},2712:(t,e,r)=>{"use strict";r.d(e,{aD:()=>l,FU:()=>p,hc:()=>v});const i=(t,e)=>({type:t,getLink:e}),n=i("facebook",(t=>`//www.facebook.com/sharer/sharer.php?u=${t.url}`)),o=i("whatsapp",(t=>`//api.whatsapp.com/send?text=${t.text}%20${t.url}`)),s=i("telegram",(t=>`//t.me/share/url?url=${t.url}&text=${t.text}`)),a=i("vkontakte",(t=>`//vk.com/share.php?url=${t.url}&title=${t.text}&image=${t.image}`)),d=i("twitter",(t=>`//twitter.com/share?text=${t.text}&url=${t.url}`)),c=i("odnoklassniki",(t=>`//connect.ok.ru/offer?url=${t.url}&title=${t.text}&imageUrl=${t.image}`)),u=i("viber",(t=>`viber://forward?text=${t.text}%20${t.url}`)),h=i("moymir",(t=>`//connect.mail.ru/share?url=${t.url}&title=${t.text}&image_url=${t.image}`)),l=[o,s,a,c,u,h],p=[n,d,s,o,u],v=[n,d,s,o,u,a,c,h]},209:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});var i=r(6558);const n={stringify:t=>btoa(encodeURIComponent(JSON.stringify(t))),parse(t){if(!t)return{};const e=function(t){try{return JSON.parse(decodeURIComponent(atob(t)||"{}"))}catch(t){return""}}(t);return Object.keys(e).length>0?e:JSON.parse(function(t){try{return JSON.parse(atob(t)||"{}")}catch(t){return""}}(t)||"{}")},addShareParamsToUrl(t,e){try{const r=new URL(t);return Object.entries(e).forEach((([t,e])=>{r.searchParams.set(t,e)})),r.href}catch(e){i.kg.error("Invalid URL",t,e)}return t}}},1440:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>W});var i=r(4917),n=r(8293),o=r(6558),s=r(209),a=function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{d(i.next(t))}catch(t){o(t)}}function a(t){try{d(i.throw(t))}catch(t){o(t)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}d((i=i.apply(t,e||[])).next())}))};class d{constructor(t,e){this.config=t,this.gp=e,this.readyTransaction=(0,n._)(),this.ready=this.readyTransaction.ready,this.needToLeaveFullscreenBeforeAds=!1,this.stickyBanner=null,this.needToLeaveFullscreenBeforeAds=!e.isMobile,this._imagesService=e._imagesService;try{this.shareParams=s.Z.parse(new URL(window.location.href).searchParams.get("hash"))}catch(t){o.kg.error(t)}}get appUrl(){return`https://vk.com/app${this.appId}`}init(){return a(this,void 0,void 0,(function*(){const{searchParams:t}=new URL(window.location.href);this.userId=parseInt(t.get("viewer_id")||t.get("vk_user_id"),10),this.authKey=t.get("sign"),this.appId=t.get("api_id")||t.get("vk_app_id"),this.authParams=function(t){return t.get("vk_app_id")?function(t){let e;const r=[];return t.forEach(((t,i)=>((t,i)=>{"string"==typeof i&&("sign"===t?e=i:t.startsWith("vk_")&&r.push({key:t,value:i}))})(i,t))),e&&0!==r.length?r.sort(((t,e)=>t.key.localeCompare(e.key))).reduce(((t,{key:e,value:r},i)=>t+(0===i?"":"&")+`${e}=${encodeURIComponent(r)}`),""):""}(t):function(t){var e;return((null===(e=t.get("sign_keys"))||void 0===e?void 0:e.split(","))||[]).map((e=>({key:e,value:t.get(e)||""}))).sort(((t,e)=>t.key.localeCompare(e.key))).reduce(((t,{key:e,value:r},i)=>t+(0===i?"":"&")+`${e}=${encodeURIComponent(r)}`),"")}(t)}(t);const e=[(0,i.Z)({src:"https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js",check:t=>"vkBridge"in t}).catch(o.kg.error)];return Promise.all(e).then((()=>a(this,void 0,void 0,(function*(){if(this.bridge=window.vkBridge,!this.bridge)try{this.bridge=(yield r.e(383).then(r.t.bind(r,1383,23))).default}catch(t){o.kg.error(t)}this.bridge&&this.onBridgeReady(),this.readyTransaction.done(this)})))),this.ready}))}onBridgeReady(){this.bridge.send("VKWebAppInit"),this.bridge.subscribe((t=>{if(t.detail)switch(t.type){case"VKWebAppViewHide":this.gp.pause();break;case"VKWebAppViewRestore":this.gp.resume()}}))}getPlayer(){return a(this,void 0,void 0,(function*(){const t=(0,n._)(n.s);return yield this.ready,this.bridge.send("VKWebAppGetUserInfo").then((e=>{if("VKWebAppGetUserInfoFailed"===e.type)return t.abort(e.data.error_type),t.ready;const{id:r,first_name:i,last_name:n,photo_100:o,photo_200:s,photo_max_orig:a}=e;t.done({id:r,name:[i,n].filter((t=>!!t)).join(" "),photoSmall:o,photoMedium:s,photoLarge:a||"",signature:this.authKey})})),t.ready}))}showNativeAd(t){return a(this,void 0,void 0,(function*(){const e=(0,n._)();yield this.ready;try{this.bridge.send("VKWebAppShowNativeAds",{ad_format:t}).then((t=>e.done(!!(null==t?void 0:t.result)))).catch(e.abort)}catch(t){e.abort(t)}return e.ready}))}callAPIMethod(t,e){const{v:r="5.131",accessToken:i}=e,o=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}(e,["v","accessToken"]),s=(0,n._)();try{this.bridge.send("VKWebAppCallAPIMethod",{method:t,params:Object.assign({v:r,access_token:i},o)}).then((t=>s.done(t))).catch(s.abort)}catch(t){s.abort(t)}return s.ready}getAlbums(t){return a(this,void 0,void 0,(function*(){return(yield this.callAPIMethod("photos.getAlbums",{accessToken:t,need_system:0,need_covers:0,photo_sizes:0})).response.items}))}createAlbum(t,e){return a(this,void 0,void 0,(function*(){return(yield this.callAPIMethod("photos.createAlbum",{accessToken:t,title:e})).response}))}getPhotosUploadServer(t,e){return a(this,void 0,void 0,(function*(){return(yield this.callAPIMethod("photos.getUploadServer",{accessToken:t,album_id:e})).response}))}savePhotoToAlbum({accessToken:t,albumId:e,hash:r,photosList:i,server:n}){return a(this,void 0,void 0,(function*(){const o=yield this.callAPIMethod("photos.save",{accessToken:t,album_id:e,server:n,photos_list:i,hash:r}),[s]=o.response;return s}))}showRewardedVideo(){return a(this,void 0,void 0,(function*(){return this.showNativeAd("reward")}))}showFullscreen(){return a(this,void 0,void 0,(function*(){return this.showNativeAd("interstitial")}))}showSticky(t){return a(this,void 0,void 0,(function*(){return this.stickyBanner=t,t.useNative?this.showNativeSticky(t):this.showVKUISticky(t)}))}showVKUISticky(t){return a(this,void 0,void 0,(function*(){yield this.closeSticky();const e=(0,n._)(),r=yield Promise.all([this.getAds(),this.loadApp()]),[i]=r;return this.app.setStickyBanner(t,i),e.done(!0),e.ready}))}showNativeSticky(t){return a(this,void 0,void 0,(function*(){yield this.closeSticky().catch((()=>!1));const e=(0,n._)(),r=yield this.bridge.send("VKWebAppShowBannerAd",{banner_location:t.position||"bottom",layout_type:"resize",can_close:!1}).catch(e.abort);return e.done(!!r.result),e.ready}))}refreshSticky(t){return a(this,void 0,void 0,(function*(){return!!t.useNative||this.showSticky(t)}))}closeSticky(){var t,e;return a(this,void 0,void 0,(function*(){const r=(0,n._)();return(null===(t=this.stickyBanner)||void 0===t?void 0:t.useNative)?yield this.bridge.send("VKWebAppHideBannerAd").then((()=>r.done())).catch(r.abort):(null===(e=this.app)||void 0===e||e.setStickyBanner(null,null),r.done()),r.ready.catch(console.error)}))}getAds(){var t;return a(this,void 0,void 0,(function*(){const e=(0,n._)();yield this.ready;try{const t=yield this.bridge.send("VKWebAppGetAds",{}).catch(e.abort);e.done(t)}catch(r){e.abort((null===(t=null==r?void 0:r.error_data)||void 0===t?void 0:t.error_reason)||r)}return e.ready}))}loadApp(){return a(this,void 0,void 0,(function*(){if(this.app)return;const t=(0,n._)();return this.bridge.isWebView()?Promise.all([r.e(690),r.e(241),r.e(851)]).then(r.bind(r,5687)).then((e=>{this.app=e.default(),t.done()})):t.abort("Can view only in DirectGames"),t.ready}))}share(t){var e;return a(this,void 0,void 0,(function*(){const r=(0,n._)();try{yield this.bridge.send("VKWebAppShare",{link:t.url||""}),r.done(!0)}catch(t){r.abort((null===(e=null==t?void 0:t.error_data)||void 0===e?void 0:e.error_reason)||t)}return r.ready}))}post(t){var e;return a(this,void 0,void 0,(function*(){const r=(0,n._)();try{const e=[];t.url&&e.push(t.url);const i=function(t){if(!t)return"";if(t.startsWith("photo"))return t;try{const e=new URL(t),r=Number(e.searchParams.get("_ownerId"))||0,i=Number(e.searchParams.get("_imageId"))||0;return r>0&&i>0?`photo${r}_${i}`:""}catch(t){return""}}(t.image);i&&e.push(i),yield this.bridge.send("VKWebAppShowWallPostBox",{message:t.text||"",attachments:e.join(",")}),r.done(!0)}catch(t){r.abort((null===(e=null==t?void 0:t.error_data)||void 0===e?void 0:e.error_reason)||t)}return r.ready}))}invite(){var t;return a(this,void 0,void 0,(function*(){const e=(0,n._)();try{yield this.bridge.send("VKWebAppShowInviteBox",{}),e.done(!0)}catch(r){e.abort((null===(t=null==r?void 0:r.error_data)||void 0===t?void 0:t.error_reason)||r)}return e.ready}))}joinCommunity(t){var e;return a(this,void 0,void 0,(function*(){const r=(0,n._)();try{const e=parseInt(t,10)||0;if(!e)throw new Error(`Empty or wrong group ID: "${t}"`);const i=yield this.bridge.send("VKWebAppJoinGroup",{group_id:e});r.done(i.result)}catch(t){r.abort((null===(e=null==t?void 0:t.error_data)||void 0===e?void 0:e.error_reason)||t)}return r.ready}))}purchase(t){var e;return a(this,void 0,void 0,(function*(){const r=(0,n._)();try{const e=yield this.bridge.send("VKWebAppShowOrderBox",{type:"item",item:t.id});r.done({order_id:e.order_id})}catch(t){r.abort((null===(e=null==t?void 0:t.error_data)||void 0===e?void 0:e.error_reason)||t)}return r.ready}))}subscribe(t,e){var r,i,o;return a(this,void 0,void 0,(function*(){const s=(0,n._)();try{const n={},o=null==e?void 0:e.payload.subscription_id;o?(n.action="resume",n.subscription_id=o):(n.action="create",n.item=t.id);const a=yield this.bridge.send("VKWebAppShowSubscriptionBox",n).catch((e=>o?this.bridge.send("VKWebAppShowSubscriptionBox",{action:"create",item:t.id}):e));(null===(i=null===(r=null==a?void 0:a.error_data)||void 0===r?void 0:r.error_reason)||void 0===i?void 0:i.length)>0?s.abort(a.error_data.error_reason):s.done({subscription_id:a.subscriptionId})}catch(t){s.abort((null===(o=null==t?void 0:t.error_data)||void 0===o?void 0:o.error_reason)||t)}return s.ready}))}unsubscribe(t){var e;return a(this,void 0,void 0,(function*(){const r=(0,n._)();try{const e=yield this.bridge.send("VKWebAppShowSubscriptionBox",{action:"cancel",subscription_id:t.payload.subscription_id});r.done({subscription_id:e.subscriptionId})}catch(t){r.abort((null===(e=null==t?void 0:t.error_data)||void 0===e?void 0:e.error_reason)||t)}return r.ready}))}requestScopes(t){return a(this,void 0,void 0,(function*(){return(yield this.bridge.send("VKWebAppGetAuthToken",{app_id:Number(this.appId),scope:t.join(",")}).catch(o.kg.error)).access_token}))}addShortcut(){return a(this,void 0,void 0,(function*(){if(this.bridge.supports("VKWebAppAddToHomeScreen"))return!!(yield this.bridge.send("VKWebAppAddToHomeScreen")).result;const t=yield this.bridge.send("VKWebAppAddToFavorites");return this.gp._storage.saveIsExistsShortcut(!!t.result),!!t.result}))}canAddShortcut(){return a(this,void 0,void 0,(function*(){return this.bridge.supports("VKWebAppAddToHomeScreen")?!!(yield this.bridge.send("VKWebAppAddToHomeScreenInfo")).is_added_to_home_screen:!(yield this.gp._storage.loadIsExistsShortcut())}))}addShareParamsToUrl(t,e){try{const r=new URL(t);return r.hash=s.Z.stringify(e),r.href}catch(e){return o.kg.error("failed to parse URL",t,e),t}}makeShareUrl(t){return this.addShareParamsToUrl(this.gp.app.url,t)}getShareParam(t){return this.shareParams?this.shareParams[t]:""}}var c=function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{d(i.next(t))}catch(t){o(t)}}function a(t){try{d(i.throw(t))}catch(t){o(t)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}d((i=i.apply(t,e||[])).next())}))};class u{constructor(t){this.sdk=t,this.isRewardedAvailable=!0,this.isPreloaderAvailable=!0,this.isFullscreenAvailable=!0,this.isStickyAvailable=!0,this.stickyBannerConfig={isOverlapping:!1,height:0},this.canShowFullscreenBeforeGamePlay=!1}get needToLeaveFullscreenBeforeAds(){return this.sdk.needToLeaveFullscreenBeforeAds}showPreloader(){return c(this,void 0,void 0,(function*(){return!1}))}showFullscreen(){return c(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.showFullscreen().catch((()=>!1))}))}showRewardedVideo(){return c(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.showRewardedVideo().catch((()=>!1))}))}showSticky(t){return c(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.showSticky(t).catch((()=>!1))}))}refreshSticky(t){return c(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.refreshSticky(t).catch((()=>!1))}))}closeSticky(){return c(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.closeSticky()}))}}var h=function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{d(i.next(t))}catch(t){o(t)}}function a(t){try{d(i.throw(t))}catch(t){o(t)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}d((i=i.apply(t,e||[])).next())}))};class l{constructor(t){this.sdk=t,this.hasCredetials=!1,this.isAuthorizedAtPlatform=!0}get userId(){return String(this.sdk.userId)}getPlayerAuthInfo(){return h(this,void 0,void 0,(function*(){const t=(0,n._)();yield this.sdk.ready;const e={authMethod:"sign_keys",userId:this.sdk.userId,authKey:this.sdk.authKey,authParams:this.sdk.authParams};return this.hasCredetials=!!e.userId&&!!e.authKey,t.done(e),t.ready}))}getPlayerContext(){return h(this,void 0,void 0,(function*(){const t=yield this.getPlayerAuthInfo();return{platformData:t,key:t.userId}}))}loginPlayer(){return h(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.getPlayer()}))}getPlayer(){return h(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.getPlayer()}))}publishRecord(t){}isPlatformAvatar(t){return t.includes(".userapi.com")}}var p,v,y,f=r(2712),m=r(5942),b=r(5572),g=function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{d(i.next(t))}catch(t){o(t)}}function a(t){try{d(i.throw(t))}catch(t){o(t)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}d((i=i.apply(t,e||[])).next())}))},k=function(t,e,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(t):i?i.value:e.get(t)};class w{constructor(t){this.sdk=t,p.add(this),this.hasIntegratedAuth=!0,this.isExternalLinksAllowed=!0,this.isSecretCodeAuthAvailable=!1,this._hasAuthModal=!1,this.type=m.z.VK,this.socialNetworks=f.aD,this.isSupportsImageUploading=!0,this.hasAccountLinkingFeature=!1}getSDK(){return this.sdk}getNativeSDK(){return this.sdk.bridge}requestPermissions(t){return g(this,void 0,void 0,(function*(){const e=[];if(t.allowUploadImages&&e.push("photos"),0===e.length)return b.yl;try{return{success:!0,payload:{token:yield this.sdk.requestScopes(e)}}}catch(t){return b.yl}}))}uploadImage({file:t,albumName:e,accessToken:r}){return g(this,void 0,void 0,(function*(){const i=yield k(this,p,"m",v).call(this,r,e),{upload_url:n}=yield this.sdk.getPhotosUploadServer(r,i.id),o=yield k(this,p,"m",y).call(this,t,n),s=yield this.sdk.savePhotoToAlbum({accessToken:r,albumId:o.aid,hash:o.hash,photosList:o.photos_list,server:o.server}),a=s.sizes.find((({type:t})=>"r"===t));if(!a)throw new Error("Unable to get saved photos");const d=new URL(a.url);return d.searchParams.set("_ownerId",String(s.owner_id)),d.searchParams.set("_imageId",String(s.id)),{src:d.href,height:a.height,width:a.width}}))}}p=new WeakSet,v=function(t,e){return g(this,void 0,void 0,(function*(){return(yield this.sdk.getAlbums(t)).find((t=>t.title===e))||this.sdk.createAlbum(t,e)}))},y=function(t,e){return g(this,void 0,void 0,(function*(){const r=yield this.sdk._imagesService.uploadByURL({fieldName:"file1",file:t,uploadUrl:e}),{__typename:i}=r,n=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}(r,["__typename"]);if("Problem"===i)throw n;return JSON.parse(n.body)}))};var _=function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{d(i.next(t))}catch(t){o(t)}}function a(t){try{d(i.throw(t))}catch(t){o(t)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}d((i=i.apply(t,e||[])).next())}))};class S{constructor(t){this.sdk=t,this.isSupportsShare=!0,this.isSupportsNativeShare=!0,this.isSupportsNativePosts=!0,this.isSupportsNativeInvite=!0,this.isSupportsNativeCommunityJoin=!0,this.canJoinCommunity=!0,this.isSupportShareParams=!0}get shareParams(){return this.sdk.shareParams}share(t){return _(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.share(t)}))}post(t){return _(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.post(t)}))}invite(){return _(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.invite()}))}getCommunityLink(t){return parseInt(t,10)>0?`https://vk.com/club${t}`:t}joinCommunity(t){return this.sdk.joinCommunity(t)}addShareParamsToUrl(t,e){return this.sdk.addShareParamsToUrl(t,e)}makeShareUrl(t){return this.sdk.makeShareUrl(t)}getShareParam(t){return this.sdk.getShareParam(t)}}var A=r(3716),P=r.n(A),I=r(9696),x=function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{d(i.next(t))}catch(t){o(t)}}function a(t){try{d(i.throw(t))}catch(t){o(t)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}d((i=i.apply(t,e||[])).next())}))};const U={[I.Uo.RU]:t=>P()(t,"Голос","Голоса","Голосов"),[I.Uo.EN]:t=>P()(t,"Vote","Votes","Votes")};class V{constructor(t){this.sdk=t,this.isSupportsSubscriptions=!0,this.isSupportsPayments=!0,this.isServerValidation=!0}mapProducts(t,e){return x(this,void 0,void 0,(function*(){return e.map((e=>Object.assign(Object.assign({},e),{currencySymbol:(U[t.language]||U[I.Uo.EN])(e.price),currency:"VOTE"})))}))}consumeAllExpired(t,e,r){return x(this,void 0,void 0,(function*(){}))}fetchPurchases(){return x(this,void 0,void 0,(function*(){return{payload:{},purchases:[]}}))}purchase(t){return x(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.purchase(t)}))}consume(t){return x(this,void 0,void 0,(function*(){return{}}))}subscribe(t,e){return x(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.subscribe(t,e)}))}unsubscribe(t,e){return x(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.unsubscribe(e)}))}}var K=r(4340),T=function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function s(t){try{d(i.next(t))}catch(t){o(t)}}function a(t){try{d(i.throw(t))}catch(t){o(t)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}d((i=i.apply(t,e||[])).next())}))};class O{constructor(t){this.sdk=t,this.canAddShortcut=!1,this.canRequestReview=!1,this.isAlreadyReviewed=!1,t.canAddShortcut().then((t=>{this.canAddShortcut=t}))}addShortcut(){return T(this,void 0,void 0,(function*(){return yield this.sdk.ready,this.sdk.addShortcut()}))}requestReview(){return(0,K.D)()}requestGameUrl(){return T(this,void 0,void 0,(function*(){}))}}function W(t){return e=this,r=void 0,n=function*(){const e=new d({},t.gp),[,,r]=yield Promise.all([e.init(),t.setupStorage([]),t.fetchConfig()]),i=new l(e);return{adsAdapter:new u(e),appAdapter:new O(e),playerAdapter:i,platformAdapter:new w(e),socialsAdapter:new S(e),paymentsAdapter:new V(e),projectConfig:r}},new((i=void 0)||(i=Promise))((function(t,o){function s(t){try{d(n.next(t))}catch(t){o(t)}}function a(t){try{d(n.throw(t))}catch(t){o(t)}}function d(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(s,a)}d((n=n.apply(e,r||[])).next())}));var e,r,i,n}}}]);